<!--
 * Copyright (c) 2017-2018 Contributors to the Eclipse Foundation
 *
 * See the NOTICE file(s) distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0, or the Apache Software License 2.0
 * which is available at https://www.apache.org/licenses/LICENSE-2.0.
 *
 * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0
-->

<nav class="navbar navbar-light bg-faded" *ngIf="!hideNavBarState" [@navbarInOut]>
    <form class="form-inline" style="justify-content: center;">
        <h3 *ngIf="!readonly" style="margin-right: .5em;">winery</h3>
        <button *ngIf="!readonly"
                class="btn btn-sm align-middle btn-success" type="button" style="margin: 2px"
                (click)="saveTopologyTemplateToRepository()">Save
        </button>

        <button class="btn btn-sm align-middle btn-info" (click)="openManagementUi()">
            Manage
        </button>

        <div class="btn-group" data-toggle="buttons" style="margin-left: 4px;">
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="layout"
                (click)="toggleButton($event)">
                Layout<i class="fa fa-th" aria-hidden="true" style="padding-left: .5em; pointer-events: none;"></i>
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="alignh"
                (click)="toggleButton($event)">
                Align<i class="fa fa-ellipsis-h" style="padding-left: .5em; pointer-events: none;"></i>
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="alignv"
                (click)="toggleButton($event)">
                Align<i class="fa fa-ellipsis-v" style="padding-left: .5em; pointer-events: none;"></i>
            </button>
        </div>
        <div class="btn-group" data-toggle="buttons" style="margin-left: 4px">
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="ids"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.idsButton)">
                Ids
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="types"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.typesButton)">
                Types
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="properties"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.propertiesButton)">
                Properties
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="deploymentArtifacts"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.deploymentArtifactsButton)">
                Deployment Artifacts
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="requirementsCapabilities"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.requirementsCapabilitiesButton)">
                Requirements & Capabilities
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="policies"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.policiesButton)">
                Policies
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="targetLocations"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.targetLocationsButton)">
                Target Locations
            </button>
            <!--<button *ngIf="!readonly"
                    class="btn btn-sm align-middle dark-button-style" type="button" style="margin-left: 4px">Print View
            </button>-->
        </div>
        <div class="btn-group" data-toggle="buttons" style="margin-left: 4px">
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="split"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.splitTopologyButton)"
                [disabled]="splittingOngoing">
                {{splittingOngoing? 'Splitting...' : 'Split'}}
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="match"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.matchTopologyButton)"
                [disabled]="matchingOngoing">
                {{matchingOngoing? 'Matching...' : 'Match'}}
            </button>
            <button
                *ngIf="!readonly"
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="importTopology"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.importTopologyButton)">
                Import Topology
            </button>
        </div>

        <div class="btn-group" data-toggle="buttons" style="margin-left: 4px">
            <button class="btn btn-sm align-middle dark-button-style" id="refineTopology"
                    (click)="toggleButton($event)"
                    [style.background-color]="getStyle(navbarButtonsState.buttonsState.refineTopologyButton)">
                Refine Topology
            </button>
        </div>

        <div *ngIf="!readonly" class="btn-group" style="margin-left: 4px" dropdown>
            <button dropdownToggle type="button" class="btn btn-sm dark-button-style align-middle dropdown-toggle">
                Other <span class="caret"></span>
            </button>
            <ul *dropdownMenu class="dropdown-menu" role="menu">
                <li role="menuitem"><a class="dropdown-item" href="#">Complete Topology</a></li>
                <li role="menuitem">
                    <button style="cursor: pointer" #exportCsarButton target="_blank"
                            tooltip="Hold CTRL key to export XML only."
                            placement="left" class="dropdown-item" (click)="exportCsar($event)">Export CSAR
                    </button>
                </li>
                <li role="menuitem">
                    <button
                        style="cursor: pointer"
                        class="dropdown-item"
                        id="substituteTopology"
                        (click)="toggleButton($event)">
                        Substitute Topology
                    </button>
                </li>
                <!--<li role="menuitem"><a class="dropdown-item" (click)="checkCompliance()">Check Compliance</a></li>-->
                <li role="menuitem"><a class="dropdown-item" href="#">About</a></li>
            </ul>
        </div>

        <div class="btn-group">
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="showViewBar"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.showViewBarButton)">
                Show View Bar
            </button>
        </div>
    </form>
</nav>

<nav class="navbar navbar-light bg-faded" *ngIf="navbarButtonsState.buttonsState.showViewBarButton && !hideNavBarState" [@navbarInOut]>
    <form class="form-inline" style="justify-content: center;">
        <button
            class="btn btn-sm align-middle dark-button-style"
            type="button"
            id="substituteHardware"
            tooltip="Substitute currently selected nodes by one substitution node"
            (click)="toggleButton($event)"
            [style.background-color]="getStyle(navbarButtonsState.buttonsState.substituteHardwareButton)">
            Substitute Hardware
        </button>
        <button
            class="btn btn-sm align-middle dark-button-style"
            type="button"
            id="substituteSoftware"
            tooltip="Substitute currently selected nodes by one substitution node"
            (click)="toggleButton($event)"
            [style.background-color]="getStyle(navbarButtonsState.buttonsState.substituteSoftwareButton)">
            Substitute Software
        </button>
        <button
            class="btn btn-sm align-middle dark-button-style"
            type="button"
            id="substituteSelection"
            tooltip="Substitute currently selected nodes by one substitution node"
            (click)="toggleButton($event)"
            [style.background-color]="getStyle(navbarButtonsState.buttonsState.substituteSelectionButton)">
            Substitute Selection
        </button>
        <button
            class="btn btn-sm align-middle dark-button-style"
            type="button"
            id="substituteCables"
            tooltip="Substitute cable nodes"
            (click)="toggleButton($event)"
            [style.background-color]="getStyle(navbarButtonsState.buttonsState.substituteCablesButton)">
            Substitute Cables
        </button>
        <button
            class="btn btn-sm align-middle dark-button-style"
            type="button"
            id="substituteAdaptersAndCables"
            tooltip="Substitute adapter nodes"
            (click)="toggleButton($event)"
            [style.background-color]="getStyle(navbarButtonsState.buttonsState.substituteAdaptersButton)">
            Substitute Adapters
        </button>

        <div class="btn-group" style="margin-left: 4px" dropdown>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="hideHardware"
                tooltip="Hide hardware nodes and relationships including them"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.hideHardwareButton)"
                (click)="toggleButton($event)">
                Hardware Nodes
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="hideSoftware"
                tooltip="Hide software nodes and relationships including them"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.hideSoftwareButton)">
                Software Nodes
            </button>
            <button
                class="btn btn-sm align-middle dark-button-style"
                type="button"
                id="hideNoncomputing"
                tooltip="Hide hardware nodes which do not have relationships to any software nodes"
                (click)="toggleButton($event)"
                [style.background-color]="getStyle(navbarButtonsState.buttonsState.hideNoncomputingButton)">
                Non Software related
            </button>
        </div>
    </form>
</nav>
